/**
 * This code was AUTOGENERATED using the codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from '@solana/kit';
import {
  type ParsedClaimRewardsInstruction,
  type ParsedInitializeRewardsStateInstruction,
  type ParsedUpdateMerkleRootInstruction,
} from '../instructions';

export const DEPHY_REWARDS_PROGRAM_ADDRESS =
  'BEQB5zna1N4eXTGPLdAVG9HJ1bL8rXSMrR7FdycJ6Zd9' as Address<'BEQB5zna1N4eXTGPLdAVG9HJ1bL8rXSMrR7FdycJ6Zd9'>;

export enum DephyRewardsAccount {
  ClaimState,
  RewardsState,
}

export function identifyDephyRewardsAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): DephyRewardsAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([71, 73, 19, 83, 53, 228, 242, 53])
      ),
      0
    )
  ) {
    return DephyRewardsAccount.ClaimState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([155, 23, 165, 17, 31, 127, 88, 135])
      ),
      0
    )
  ) {
    return DephyRewardsAccount.RewardsState;
  }
  throw new Error(
    'The provided account could not be identified as a dephyRewards account.'
  );
}

export enum DephyRewardsInstruction {
  ClaimRewards,
  InitializeRewardsState,
  UpdateMerkleRoot,
}

export function identifyDephyRewardsInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): DephyRewardsInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([4, 144, 132, 71, 116, 23, 151, 80])
      ),
      0
    )
  ) {
    return DephyRewardsInstruction.ClaimRewards;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([185, 222, 190, 230, 192, 41, 93, 51])
      ),
      0
    )
  ) {
    return DephyRewardsInstruction.InitializeRewardsState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([195, 173, 38, 60, 242, 203, 158, 93])
      ),
      0
    )
  ) {
    return DephyRewardsInstruction.UpdateMerkleRoot;
  }
  throw new Error(
    'The provided instruction could not be identified as a dephyRewards instruction.'
  );
}

export type ParsedDephyRewardsInstruction<
  TProgram extends string = 'BEQB5zna1N4eXTGPLdAVG9HJ1bL8rXSMrR7FdycJ6Zd9',
> =
  | ({
      instructionType: DephyRewardsInstruction.ClaimRewards;
    } & ParsedClaimRewardsInstruction<TProgram>)
  | ({
      instructionType: DephyRewardsInstruction.InitializeRewardsState;
    } & ParsedInitializeRewardsStateInstruction<TProgram>)
  | ({
      instructionType: DephyRewardsInstruction.UpdateMerkleRoot;
    } & ParsedUpdateMerkleRootInstruction<TProgram>);
